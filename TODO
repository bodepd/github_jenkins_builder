1. remove poll based featuers in exchange for event based sinatra endpoints
2. add more tests
3 figure out why things are publishing twice
